---
import childProcess from 'node:child_process'
import path from 'node:path'
import { version } from '../../package.json'
import { Github, GitFork, Box } from 'lucide-static';
import Icon from './Icon.astro';

const { back, title } = Astro.props
const filename = import.meta.url.replace('file://', '').replace(path.resolve('./'), '')
const githubUrl = 'https://github.com/payitforwardlicense/payitforward'

const hash = childProcess
  .execSync("git rev-parse --short HEAD")
  .toString()
  .trim();
---

<hr />
<footer>
  <ul>
    <li><Icon icon={Github} size="14" /> <a href={githubUrl}>Join us on github</a></li>
    <li><Icon icon={GitFork} size="14" /> <a href=`${githubUrl}${filename}`>Improve this page</a></li>
    <li><Icon icon={Box} size="14" /> v{version} : {hash}</li>
  </p>
{filename}
</footer>