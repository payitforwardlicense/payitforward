---
import childProcess from 'node:child_process'
//import path from 'node:path'
import { version } from '../../package.json'
import { Github, GitFork, Box } from 'lucide-static';
import Icon from './Icon.astro';
// const filename = import.meta.url.replace('file://', '').replace(path.resolve('./'), '')
const githubUrl = 'https://github.com/payitforwardlicense/payitforward'
const currentPath = Astro.url.pathname && Astro.url.pathname !== '/' ? Astro.url.pathname : 'index';

const hash = childProcess
  .execSync("git rev-parse --short HEAD")
  .toString()
  .trim();
---

<hr />
<footer>
  <ul>
    <li><Icon icon={Github} size="14" /> <a href={githubUrl}>Join us on github</a></li>
    <li><Icon icon={GitFork} size="14" /> <a href=`${githubUrl}/blob/main/src/pages/${currentPath}.mdx`>Improve this page</a></li>
    <li><Icon icon={Box} size="14" /> v{version} : {hash}</li>
  </p>
</footer>